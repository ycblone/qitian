"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const request_service_1 = require("../../services/request-service");
Page({
    data: {
        scrollHeight: '',
        jobSession: ''
    },
    onLoad: function () {
        const that = this;
        that.getJobSession();
    },
    onReady: function () {
        const that = this;
        that.computeScrollViewHeight();
    },
    onShow: function () {
        if (typeof this.getTabBar === 'function' &&
            this.getTabBar()) {
            this.getTabBar().setData({
                selected: 2
            });
        }
    },
    onHide: function () {
    },
    onUnload: function () {
    },
    onPullDownRefresh: function () {
    },
    onReachBottom: function () {
    },
    onShareAppMessage: function () {
    },
    searchInput(e) {
        const that = this;
        const business = e.detail.value;
        request_service_1.requestService.get('internship/keyword/', { business }, {}, true, true)
            .then(res => {
            that.setData({
                jobSession: res.data.data
            });
        });
    },
    searchIsNull(e) {
        const that = this;
        if (!e.detail.value) {
            that.getJobSession();
        }
        else {
            const business = e.detail.value;
            request_service_1.requestService.get('internship/keyword/', { business }, {}, true, true)
                .then(res => {
                that.setData({
                    jobSession: res.data.data
                });
            });
        }
    },
    getJobSession() {
        const that = this;
        request_service_1.requestService.get('internship/', {})
            .then(res => {
            that.setData({
                jobSession: res.data.data
            });
        });
    },
    computeScrollViewHeight() {
        const that = this;
        let query = wx.createSelectorQuery();
        query.select('.headTop').boundingClientRect();
        query.exec(res => {
            let headTopHeight = res[0].height;
            let windowHeight = wx.getSystemInfoSync().windowHeight;
            let scrollHeight = windowHeight - headTopHeight - 50;
            that.setData({
                scrollHeight: scrollHeight
            });
        });
    },
    toPractice(event) {
        let info = event.currentTarget.dataset.info;
        const sendData = JSON.stringify(this.data.jobSession[info]);
        wx.navigateTo({
            url: 'practiceMore?data=' + sendData
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmluZEpvYi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImZpbmRKb2IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxvRUFBOEQ7QUFFOUQsSUFBSSxDQUFDO0lBS0gsSUFBSSxFQUFFO1FBQ0YsWUFBWSxFQUFDLEVBQUU7UUFDZixVQUFVLEVBQUMsRUFBRTtLQUVoQjtJQUtELE1BQU0sRUFBRTtRQUNKLE1BQU0sSUFBSSxHQUFHLElBQVcsQ0FBQztRQUN6QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUtELE9BQU8sRUFBRTtRQUNMLE1BQU0sSUFBSSxHQUFHLElBQVcsQ0FBQztRQUN6QixJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBS0QsTUFBTSxFQUFFO1FBQ0osSUFBSSxPQUFPLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVTtZQUNwQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQztnQkFDckIsUUFBUSxFQUFFLENBQUM7YUFDZCxDQUFDLENBQUE7U0FDTDtJQUNMLENBQUM7SUFLRCxNQUFNLEVBQUU7SUFFUixDQUFDO0lBS0QsUUFBUSxFQUFFO0lBRVYsQ0FBQztJQUtELGlCQUFpQixFQUFFO0lBRW5CLENBQUM7SUFLRCxhQUFhLEVBQUU7SUFFZixDQUFDO0lBS0QsaUJBQWlCLEVBQUU7SUFFbkIsQ0FBQztJQUdDLFdBQVcsQ0FBQyxDQUFLO1FBQ2IsTUFBTSxJQUFJLEdBQUcsSUFBVyxDQUFDO1FBQ3pCLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2hDLGdDQUFjLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLENBQUM7YUFDNUQsSUFBSSxDQUFDLEdBQUcsQ0FBQSxFQUFFO1lBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDVCxVQUFVLEVBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJO2FBQzNCLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFBO0lBQ1YsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFLO1FBQ2QsTUFBTSxJQUFJLEdBQUcsSUFBVyxDQUFDO1FBRXpCLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUNqQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDeEI7YUFBSztZQUNGLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2hDLGdDQUFjLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxJQUFJLENBQUM7aUJBQzVELElBQUksQ0FBQyxHQUFHLENBQUEsRUFBRTtnQkFDUCxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNULFVBQVUsRUFBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUk7aUJBQzNCLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFBO1NBQ1Q7SUFDTCxDQUFDO0lBRUQsYUFBYTtRQUNULE1BQU0sSUFBSSxHQUFHLElBQVcsQ0FBQztRQUN6QixnQ0FBYyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUMsRUFBRSxDQUFDO2FBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUEsRUFBRTtZQUNQLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ1QsVUFBVSxFQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSTthQUMzQixDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQTtJQUNSLENBQUM7SUFFRCx1QkFBdUI7UUFDbkIsTUFBTSxJQUFJLEdBQUcsSUFBVyxDQUFDO1FBRXpCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRXJDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUc5QyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2IsSUFBSSxhQUFhLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUdsQyxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxZQUFZLENBQUM7WUFHdkQsSUFBSSxZQUFZLEdBQUcsWUFBWSxHQUFHLGFBQWEsR0FBRyxFQUFFLENBQUM7WUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDVCxZQUFZLEVBQUUsWUFBWTthQUM3QixDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBUztRQUNoQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDNUMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzVELEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDWixHQUFHLEVBQUMsb0JBQW9CLEdBQUMsUUFBUTtTQUNwQyxDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbWluaXByb2dyYW0vcGFnZXMvZmluZEpvYi9maW5kSm9iLmpzXHJcbmltcG9ydCB7cmVxdWVzdFNlcnZpY2V9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9yZXF1ZXN0LXNlcnZpY2VcIjtcclxuXHJcblBhZ2Uoe1xyXG5cclxuICAvKipcclxuICAgKiDpobXpnaLnmoTliJ3lp4vmlbDmja5cclxuICAgKi9cclxuICBkYXRhOiB7XHJcbiAgICAgIHNjcm9sbEhlaWdodDonJyxcclxuICAgICAgam9iU2Vzc2lvbjonJ1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouWKoOi9vVxyXG4gICAqL1xyXG4gIG9uTG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgIHRoYXQuZ2V0Sm9iU2Vzc2lvbigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Yid5qyh5riy5p+T5a6M5oiQXHJcbiAgICovXHJcbiAgb25SZWFkeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgIHRoYXQuY29tcHV0ZVNjcm9sbFZpZXdIZWlnaHQoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouaYvuekulxyXG4gICAqL1xyXG4gIG9uU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMuZ2V0VGFiQmFyID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICB0aGlzLmdldFRhYkJhcigpKSB7XHJcbiAgICAgICAgICB0aGlzLmdldFRhYkJhcigpLnNldERhdGEoe1xyXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiAyXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLpmpDol49cclxuICAgKi9cclxuICBvbkhpZGU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLljbjovb1cclxuICAgKi9cclxuICBvblVubG9hZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDpobXpnaLnm7jlhbPkuovku7blpITnkIblh73mlbAtLeebkeWQrOeUqOaIt+S4i+aLieWKqOS9nFxyXG4gICAqL1xyXG4gIG9uUHVsbERvd25SZWZyZXNoOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOmhtemdouS4iuaLieinpuW6leS6i+S7tueahOWkhOeQhuWHveaVsFxyXG4gICAqL1xyXG4gIG9uUmVhY2hCb3R0b206IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55So5oi354K55Ye75Y+z5LiK6KeS5YiG5LqrXHJcbiAgICovXHJcbiAgb25TaGFyZUFwcE1lc3NhZ2U6IGZ1bmN0aW9uICgpOmFueSB7XHJcblxyXG4gIH0sXHJcbiAgICAvLyDmkJzntKLmoYZcclxuICAgIC8vIOeCueWHu+WujOaIkFxyXG4gICAgc2VhcmNoSW5wdXQoZTphbnkpe1xyXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzIGFzIGFueTtcclxuICAgICAgICBjb25zdCBidXNpbmVzcyA9IGUuZGV0YWlsLnZhbHVlO1xyXG4gICAgICAgIHJlcXVlc3RTZXJ2aWNlLmdldCgnaW50ZXJuc2hpcC9rZXl3b3JkLycse2J1c2luZXNzfSx7fSx0cnVlLHRydWUpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcz0+e1xyXG4gICAgICAgICAgICAgICAgdGhhdC5zZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICBqb2JTZXNzaW9uOnJlcy5kYXRhLmRhdGFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIC8vIOWkseeEpuaXtlxyXG4gICAgc2VhcmNoSXNOdWxsKGU6YW55KXtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgICAgLy8g6Iul6L6T5YWl5qGG5Li656m677yM5YiZ5p+l6K+i5omA5pyJXHJcbiAgICAgICAgaWYgKCFlLmRldGFpbC52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGF0LmdldEpvYlNlc3Npb24oKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzID0gZS5kZXRhaWwudmFsdWU7XHJcbiAgICAgICAgICAgIHJlcXVlc3RTZXJ2aWNlLmdldCgnaW50ZXJuc2hpcC9rZXl3b3JkLycse2J1c2luZXNzfSx7fSx0cnVlLHRydWUpXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXM9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2JTZXNzaW9uOnJlcy5kYXRhLmRhdGFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIOiOt+WPluWunuS5oOW3peS9nOS/oeaBr1xyXG4gICAgZ2V0Sm9iU2Vzc2lvbigpe1xyXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzIGFzIGFueTtcclxuICAgICAgICByZXF1ZXN0U2VydmljZS5nZXQoJ2ludGVybnNoaXAvJyx7fSlcclxuICAgICAgICAgIC50aGVuKHJlcz0+e1xyXG4gICAgICAgICAgICAgIHRoYXQuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgIGpvYlNlc3Npb246cmVzLmRhdGEuZGF0YVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICAvLyDojrflj5bliankuIvpq5jluqbnu5lzY3JvbGx2aWV355SoXHJcbiAgICBjb21wdXRlU2Nyb2xsVmlld0hlaWdodCgpIHtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgICAgLy8g6L+U5Zue5LiA5LiqIFNlbGVjdG9yUXVlcnkg5a+56LGh5a6e5L6LXHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gd3guY3JlYXRlU2VsZWN0b3JRdWVyeSgpO1xyXG4gICAgICAgIC8vIOWcqOW9k+WJjemhtemdouS4i+mAieaLqeesrOS4gOS4quWMuemFjemAieaLqeWZqCBzZWxlY3RvciDnmoToioLngrnjgILov5Tlm57kuIDkuKogTm9kZXNSZWYg5a+56LGh5a6e5L6L77yM5Y+v5Lul55So5LqO6I635Y+W6IqC54K55L+h5oGvXHJcbiAgICAgICAgcXVlcnkuc2VsZWN0KCcuaGVhZFRvcCcpLmJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8vIHF1ZXJ5LnNlbGVjdCgnLmhlYWRCb3R0b20nKS5ib3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvLyDmiafooYzmiYDmnInnmoTor7fmsYLjgILor7fmsYLnu5PmnpzmjInor7fmsYLmrKHluo/mnoTmiJDmlbDnu4TvvIzlnKhjYWxsYmFja+eahOesrOS4gOS4quWPguaVsOS4rei/lOWbnlxyXG4gICAgICAgIHF1ZXJ5LmV4ZWMocmVzID0+IHtcclxuICAgICAgICAgICAgbGV0IGhlYWRUb3BIZWlnaHQgPSByZXNbMF0uaGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBsZXQgaGVhZEJvdHRvbUhlaWdodCA9IHJlc1sxXS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHd4LmdldFN5c3RlbUluZm9TeW5jKCkg5Y+v5Lul5b6X5Yiw6K6+5aSH55qE5ZCE56eN5L+h5oGv77yM5YWz5LqO6auY5bqm55qE5Y+C5pWw5pyJ5Lik5Liq77yM5LiA5Liq5piv5bGP5bmV6auY5bqmIHNjcmVlbkhlaWdodO+8jOS4gOS4quaYr+WPr+S9v+eUqOeql+WPo+mrmOW6piB3aW5kb3dIZWlnaHTjgILms6jmhI/orqHnrpfnmoTml7blgJnopoHnlKggd2luZG93SGVpZ2h077yM6L+Z5qC3566X5Ye65p2l55qE6auY5bqm5omN5piv5a+555qE44CCc2NyZWVuSGVpZ2h05piv5omL5py655qE5bGP5bmV6auY5bqm77yM5YyF5ZCr5LqG5omL5py655qE54q25oCB5qCP5ZKM5bCP56iL5bqP5qCH6aKY5qCP44CCXHJcbiAgICAgICAgICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpLndpbmRvd0hlaWdodDtcclxuICAgICAgICAgICAgLy8gNTDmmK90YWLpq5jluqZcclxuICAgICAgICAgICAgLy8gbGV0IHNjcm9sbEhlaWdodCA9IHdpbmRvd0hlaWdodCAtIGhlYWRUb3BIZWlnaHQgLSBoZWFkQm90dG9tSGVpZ2h0IC0gNTA7XHJcbiAgICAgICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSBoZWFkVG9wSGVpZ2h0IC0gNTA7XHJcbiAgICAgICAgICAgIHRoYXQuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIHRvUHJhY3RpY2UoZXZlbnQ6YW55KXtcclxuICAgICAgICBsZXQgaW5mbyA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmZvO1xyXG4gICAgICAgIGNvbnN0IHNlbmREYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmpvYlNlc3Npb25baW5mb10pO1xyXG4gICAgICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICAgICAgdXJsOidwcmFjdGljZU1vcmU/ZGF0YT0nK3NlbmREYXRhXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbn0pIl19