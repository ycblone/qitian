"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const request_service_1 = require("../../services/request-service");
Page({
    data: {
        scrollHeight: '',
        background: [
            "../../img/swiperA.jpg",
            "../../img/swiperB.jpg",
            "../../img/swiperC.jpg"
        ],
        indicatorDots: true,
        vertical: false,
        autoplay: false,
        interval: 2000,
        duration: 500,
        indexImg: 0,
        option: [
            { name: '互联网' },
            { name: '金融' },
            { name: '土木工程' },
            { name: '化学与环境测试' },
            { name: '生物结构与社会人文' },
            { name: '天地人和草木共生万物和谐' },
            { name: '互联网' },
            { name: '互联网' },
            { name: '互联网' },
            { name: '互联网' },
        ],
        optionShow: [],
        labelBoxIsNull: true,
        itemTitle: '行业',
    },
    onLoad: function () {
        let that = this;
        for (let i = 0; i < that.data.option.length; i++) {
            var option = "option[" + i + "].isSelect";
            that.setData({
                [option]: false
            });
        }
        this.getBarImg();
        this.getOnlineSession();
    },
    onReady: function () {
        const that = this;
        that.computeScrollViewHeight();
    },
    onShow: function () {
        if (typeof this.getTabBar === 'function' &&
            this.getTabBar()) {
            this.getTabBar().setData({
                selected: 0
            });
        }
    },
    onHide: function () {
    },
    onUnload: function () {
    },
    onPullDownRefresh: function () {
    },
    onReachBottom: function () {
    },
    onShareAppMessage: function () {
    },
    getBarImg() {
        request_service_1.requestService.get('onlinePresentationsBanners/', {})
            .then(res => {
            console.log('轮播', res);
        });
    },
    getOnlineSession() {
        request_service_1.requestService.get('onlinePresentations/', {}).then(res => {
            console.log('宣讲会', res);
        });
    },
    indexChange(event) {
        let that = this;
        console.log(event);
        var index = event.detail.current;
        that.setData({
            indexImg: index
        });
    },
    clickLabel(event) {
        let that = this;
        console.log(event.currentTarget.dataset.info);
        const info = event.currentTarget.dataset.info;
        let isSelect = that.data.option[info].isSelect;
        var option = "optionShow[" + info + "]";
        if (!isSelect) {
            that.setData({
                [option]: info
            });
        }
        else {
            that.setData({
                [option]: null
            });
        }
        var option = "option[" + info + "].isSelect";
        that.setData({
            [option]: !isSelect
        });
        let isNull = true;
        that.data.option.forEach((item) => {
            if (item.isSelect) {
                isNull = false;
            }
        });
        that.setData({
            labelBoxIsNull: isNull
        });
    },
    computeScrollViewHeight() {
        const that = this;
        let query = wx.createSelectorQuery();
        query.select('.swiper-wrap').boundingClientRect();
        query.select('.contentHead').boundingClientRect();
        query.exec(res => {
            let swiperHeight = res[0].height;
            let headHeight = res[1].height;
            let windowHeight = wx.getSystemInfoSync().windowHeight;
            let scrollHeight = windowHeight - swiperHeight - headHeight - 50;
            that.setData({
                scrollHeight: scrollHeight
            });
        });
    },
    toCloud() {
        wx.navigateTo({
            url: '../cloud/cloud'
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImhvbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxvRUFBOEQ7QUFFOUQsSUFBSSxDQUFDO0lBS0QsSUFBSSxFQUFFO1FBQ0YsWUFBWSxFQUFDLEVBQUU7UUFDZixVQUFVLEVBQUU7WUFDUix1QkFBdUI7WUFDdkIsdUJBQXVCO1lBQ3ZCLHVCQUF1QjtTQUMxQjtRQUNELGFBQWEsRUFBRSxJQUFJO1FBQ25CLFFBQVEsRUFBRSxLQUFLO1FBQ2YsUUFBUSxFQUFFLEtBQUs7UUFDZixRQUFRLEVBQUUsSUFBSTtRQUNkLFFBQVEsRUFBRSxHQUFHO1FBQ2IsUUFBUSxFQUFFLENBQUM7UUFFWCxNQUFNLEVBQUM7WUFDSCxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUM7WUFDWixFQUFDLElBQUksRUFBQyxJQUFJLEVBQUM7WUFDWCxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUM7WUFDYixFQUFDLElBQUksRUFBQyxTQUFTLEVBQUM7WUFDaEIsRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDO1lBQ2xCLEVBQUMsSUFBSSxFQUFDLGNBQWMsRUFBQztZQUNyQixFQUFDLElBQUksRUFBQyxLQUFLLEVBQUM7WUFDWixFQUFDLElBQUksRUFBQyxLQUFLLEVBQUM7WUFDWixFQUFDLElBQUksRUFBQyxLQUFLLEVBQUM7WUFDWixFQUFDLElBQUksRUFBQyxLQUFLLEVBQUM7U0FDZjtRQUVELFVBQVUsRUFBQyxFQUFFO1FBRWIsY0FBYyxFQUFDLElBQUk7UUFDbkIsU0FBUyxFQUFDLElBQUk7S0FDakI7SUFLRCxNQUFNLEVBQUU7UUFDSixJQUFJLElBQUksR0FBRyxJQUFXLENBQUM7UUFFdkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5QyxJQUFJLE1BQU0sR0FBRyxTQUFTLEdBQUMsQ0FBQyxHQUFDLFlBQVksQ0FBQztZQUN0QyxJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNULENBQUMsTUFBTSxDQUFDLEVBQUMsS0FBSzthQUNqQixDQUFDLENBQUM7U0FDTjtRQUVELElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUU1QixDQUFDO0lBS0QsT0FBTyxFQUFFO1FBQ0wsTUFBTSxJQUFJLEdBQUcsSUFBVyxDQUFDO1FBQ3pCLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFLRCxNQUFNLEVBQUU7UUFDSixJQUFJLE9BQU8sSUFBSSxDQUFDLFNBQVMsS0FBSyxVQUFVO1lBQ3BDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDO2dCQUNyQixRQUFRLEVBQUUsQ0FBQzthQUNkLENBQUMsQ0FBQTtTQUNMO0lBQ0wsQ0FBQztJQUtELE1BQU0sRUFBRTtJQUVSLENBQUM7SUFLRCxRQUFRLEVBQUU7SUFFVixDQUFDO0lBS0QsaUJBQWlCLEVBQUU7SUFFbkIsQ0FBQztJQUtELGFBQWEsRUFBRTtJQUVmLENBQUM7SUFLRCxpQkFBaUIsRUFBRTtJQUVuQixDQUFDO0lBRUQsU0FBUztRQUNMLGdDQUFjLENBQUMsR0FBRyxDQUFDLDZCQUE2QixFQUFDLEVBQUUsQ0FBQzthQUMvQyxJQUFJLENBQUMsR0FBRyxDQUFBLEVBQUU7WUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBQyxHQUFHLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQTtJQUNWLENBQUM7SUFFRCxnQkFBZ0I7UUFDWixnQ0FBYyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLEVBQUU7WUFDcEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBQ0QsV0FBVyxDQUFDLEtBQVM7UUFDakIsSUFBSSxJQUFJLEdBQUcsSUFBVyxDQUFDO1FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNULFFBQVEsRUFBRSxLQUFLO1NBQ2xCLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBUztRQUNoQixJQUFJLElBQUksR0FBRyxJQUFXLENBQUM7UUFFdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDOUMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQy9DLElBQUksTUFBTSxHQUFHLGFBQWEsR0FBQyxJQUFJLEdBQUMsR0FBRyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxRQUFRLEVBQUM7WUFFVixJQUFJLENBQUMsT0FBTyxDQUFDO2dCQUNULENBQUMsTUFBTSxDQUFDLEVBQUMsSUFBSTthQUNoQixDQUFDLENBQUM7U0FDTjthQUFNO1lBR0gsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDVCxDQUFDLE1BQU0sQ0FBQyxFQUFDLElBQUk7YUFDaEIsQ0FBQyxDQUFDO1NBQ047UUFFRCxJQUFJLE1BQU0sR0FBRyxTQUFTLEdBQUMsSUFBSSxHQUFDLFlBQVksQ0FBQztRQUN6QyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsQ0FBQyxNQUFNLENBQUMsRUFBQyxDQUFDLFFBQVE7U0FDckIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVEsRUFBQyxFQUFFO1lBQ2pDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDZixNQUFNLEdBQUcsS0FBSyxDQUFDO2FBQ2xCO1FBQ0wsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsY0FBYyxFQUFDLE1BQU07U0FDeEIsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVELHVCQUF1QjtRQUNuQixNQUFNLElBQUksR0FBRyxJQUFXLENBQUM7UUFFekIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFFckMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQ2xELEtBQUssQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUVsRCxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2IsSUFBSSxZQUFZLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUNqQyxJQUFJLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBRS9CLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUV2RCxJQUFJLFlBQVksR0FBRyxZQUFZLEdBQUcsWUFBWSxHQUFHLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFDakUsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDVCxZQUFZLEVBQUUsWUFBWTthQUM3QixDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFDRCxPQUFPO1FBQ0gsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNWLEdBQUcsRUFBQyxnQkFBZ0I7U0FDdkIsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIC8vIG1pbmlwcm9ncmFtL3BhZ2VzL2hvbWUvaG9tZS5qc1xyXG5pbXBvcnQge3JlcXVlc3RTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvcmVxdWVzdC1zZXJ2aWNlXCI7XHJcblxyXG5QYWdlKHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmhtemdoueahOWIneWni+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgc2Nyb2xsSGVpZ2h0OicnLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFtcclxuICAgICAgICAgICAgXCIuLi8uLi9pbWcvc3dpcGVyQS5qcGdcIixcclxuICAgICAgICAgICAgXCIuLi8uLi9pbWcvc3dpcGVyQi5qcGdcIixcclxuICAgICAgICAgICAgXCIuLi8uLi9pbWcvc3dpcGVyQy5qcGdcIlxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgaW5kaWNhdG9yRG90czogdHJ1ZSxcclxuICAgICAgICB2ZXJ0aWNhbDogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgIGludGVydmFsOiAyMDAwLFxyXG4gICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgaW5kZXhJbWc6IDAsXHJcbiAgICAgICAgLy8g5LiL5ouJ6I+c5Y2VXHJcbiAgICAgICAgb3B0aW9uOltcclxuICAgICAgICAgICAge25hbWU6J+S6kuiBlOe9kSd9LFxyXG4gICAgICAgICAgICB7bmFtZTon6YeR6J6NJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiflnJ/mnKjlt6XnqIsnfSxcclxuICAgICAgICAgICAge25hbWU6J+WMluWtpuS4jueOr+Wig+a1i+ivlSd9LFxyXG4gICAgICAgICAgICB7bmFtZTon55Sf54mp57uT5p6E5LiO56S+5Lya5Lq65paHJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOiflpKnlnLDkurrlkozojYnmnKjlhbHnlJ/kuIfnianlkozosJAnfSxcclxuICAgICAgICAgICAge25hbWU6J+S6kuiBlOe9kSd9LFxyXG4gICAgICAgICAgICB7bmFtZTon5LqS6IGU572RJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOifkupLogZTnvZEnfSxcclxuICAgICAgICAgICAge25hbWU6J+S6kuiBlOe9kSd9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgLy8g5a2Y5qCH562+5LiL5qCH55qE5pWw57uEXHJcbiAgICAgICAgb3B0aW9uU2hvdzpbXSxcclxuICAgICAgICAvLyDmmK/lkKbmmL7npLpsYWJlbEJveFxyXG4gICAgICAgIGxhYmVsQm94SXNOdWxsOnRydWUsXHJcbiAgICAgICAgaXRlbVRpdGxlOifooYzkuJonLFxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Yqg6L29XHJcbiAgICAgKi9cclxuICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgICAgLy8g57uZ5pWw5o2u5re75Yqg5piv5ZCm6YCJ5Lit5a2X5q61XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGF0LmRhdGEub3B0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBcIm9wdGlvbltcIitpK1wiXS5pc1NlbGVjdFwiO1xyXG4gICAgICAgICAgICB0aGF0LnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgW29wdGlvbl06ZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOi9ruaSreWbvlxyXG4gICAgICAgIHRoaXMuZ2V0QmFySW1nKCk7XHJcbiAgICAgICAgdGhpcy5nZXRPbmxpbmVTZXNzaW9uKCk7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Yid5qyh5riy5p+T5a6M5oiQXHJcbiAgICAgKi9cclxuICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcyBhcyBhbnk7XHJcbiAgICAgICAgdGhhdC5jb21wdXRlU2Nyb2xsVmlld0hlaWdodCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5pi+56S6XHJcbiAgICAgKi9cclxuICAgIG9uU2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5nZXRUYWJCYXIgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICAgICAgdGhpcy5nZXRUYWJCYXIoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldFRhYkJhcigpLnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLpmpDol49cclxuICAgICAqL1xyXG4gICAgb25IaWRlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5Y246L29XHJcbiAgICAgKi9cclxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmhtemdouebuOWFs+S6i+S7tuWkhOeQhuWHveaVsC0t55uR5ZCs55So5oi35LiL5ouJ5Yqo5L2cXHJcbiAgICAgKi9cclxuICAgIG9uUHVsbERvd25SZWZyZXNoOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOmhtemdouS4iuaLieinpuW6leS6i+S7tueahOWkhOeQhuWHveaVsFxyXG4gICAgICovXHJcbiAgICBvblJlYWNoQm90dG9tOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUqOaIt+eCueWHu+WPs+S4iuinkuWIhuS6q1xyXG4gICAgICovXHJcbiAgICBvblNoYXJlQXBwTWVzc2FnZTogZnVuY3Rpb24gKCkgOmFueXtcclxuXHJcbiAgICB9LFxyXG4gICAgLy8g6L2u5pKt5Zu+XHJcbiAgICBnZXRCYXJJbWcoKXtcclxuICAgICAgICByZXF1ZXN0U2VydmljZS5nZXQoJ29ubGluZVByZXNlbnRhdGlvbnNCYW5uZXJzLycse30pXHJcbiAgICAgICAgICAgIC50aGVuKHJlcz0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+i9ruaSrScscmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICAvLyDnur/kuIrlrqPorrLor6bmg4VcclxuICAgIGdldE9ubGluZVNlc3Npb24oKXtcclxuICAgICAgICByZXF1ZXN0U2VydmljZS5nZXQoJ29ubGluZVByZXNlbnRhdGlvbnMvJyx7fSkudGhlbihyZXM9PntcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+Wuo+iusuS8micscmVzKTtcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGluZGV4Q2hhbmdlKGV2ZW50OmFueSl7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzIGFzIGFueTtcclxuICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuZGV0YWlsLmN1cnJlbnQ7XHJcbiAgICAgICAgdGhhdC5zZXREYXRhKHtcclxuICAgICAgICAgICAgaW5kZXhJbWc6IGluZGV4XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICAvLyDngrnlh7vmoIfnrb7op6blj5FcclxuICAgIGNsaWNrTGFiZWwoZXZlbnQ6YW55KXtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXMgYXMgYW55O1xyXG4gICAgICAgIC8vIOeCueWHu+agh+etvuWIh+aNouWvueW6lOagh+etvumAieS4reeKtuaAgVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmZvKTtcclxuICAgICAgICBjb25zdCBpbmZvID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZm87XHJcbiAgICAgICAgbGV0IGlzU2VsZWN0ID0gdGhhdC5kYXRhLm9wdGlvbltpbmZvXS5pc1NlbGVjdDtcclxuICAgICAgICB2YXIgb3B0aW9uID0gXCJvcHRpb25TaG93W1wiK2luZm8rXCJdXCI7XHJcbiAgICAgICAgaWYgKCFpc1NlbGVjdCl7XHJcbiAgICAgICAgICAgIC8vaXNTZWxlY3TkuLpmYWxzZSDlpoLmnpzljbPlsIbooqvngrnkuq7vvIzliJnlsIblhbbkuIvmoIdpbmZv5Yqg5YWlb3B0aW9uU2hvd+aVsOe7hOeahGluZm/kvY3nva4g5Lul5L6/5Yig6Zmk55qE5pe25YCZ5aW95om+5YiwXHJcbiAgICAgICAgICAgIHRoYXQuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICBbb3B0aW9uXTppbmZvXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOS4unRydWXvvIzljbPlsIbooqvlj5bmtojvvIzliJnopoHmib7liLDlr7nlupRpbmZv5L2N572u5bCG5YW2572u56m6XHJcbiAgICAgICAgICAgIC8vIOi/memHjOi1i+WAvG51bGzmr5TotYvlgLx1bmRlZmluZWTlkoznqbropoHlpb1cclxuICAgICAgICAgICAgdGhhdC5zZXREYXRhKHtcclxuICAgICAgICAgICAgICAgIFtvcHRpb25dOm51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOaUueWPmOagh+etvumAieS4reeKtuaAgVxyXG4gICAgICAgIHZhciBvcHRpb24gPSBcIm9wdGlvbltcIitpbmZvK1wiXS5pc1NlbGVjdFwiO1xyXG4gICAgICAgIHRoYXQuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgIFtvcHRpb25dOiFpc1NlbGVjdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOmBjeWOhm9wdGlvbu+8jOWmguaenOagh+etvumDveacquiiq+mAieS4re+8jOWImWxhYmVsQm945Li656m677yM6LWL57uZbGFiZWxCb3hJc051bGwg77yadHJ1ZSDlnKh3eG1s5LiK5LiN5LqI5pi+56S6XHJcbiAgICAgICAgbGV0IGlzTnVsbCA9IHRydWU7XHJcbiAgICAgICAgdGhhdC5kYXRhLm9wdGlvbi5mb3JFYWNoKChpdGVtOmFueSk9PntcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaXNTZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGlzTnVsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGF0LnNldERhdGEoe1xyXG4gICAgICAgICAgICBsYWJlbEJveElzTnVsbDppc051bGxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgLy8g6I635Y+W5Ymp5LiL6auY5bqm57uZc2Nyb2xsdmlld+eUqFxyXG4gICAgY29tcHV0ZVNjcm9sbFZpZXdIZWlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMgYXMgYW55O1xyXG4gICAgICAgIC8vIOi/lOWbnuS4gOS4qiBTZWxlY3RvclF1ZXJ5IOWvueixoeWunuS+i1xyXG4gICAgICAgIGxldCBxdWVyeSA9IHd4LmNyZWF0ZVNlbGVjdG9yUXVlcnkoKTtcclxuICAgICAgICAvLyDlnKjlvZPliY3pobXpnaLkuIvpgInmi6nnrKzkuIDkuKrljLnphY3pgInmi6nlmaggc2VsZWN0b3Ig55qE6IqC54K544CC6L+U5Zue5LiA5LiqIE5vZGVzUmVmIOWvueixoeWunuS+i++8jOWPr+S7peeUqOS6juiOt+WPluiKgueCueS/oeaBr1xyXG4gICAgICAgIHF1ZXJ5LnNlbGVjdCgnLnN3aXBlci13cmFwJykuYm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgcXVlcnkuc2VsZWN0KCcuY29udGVudEhlYWQnKS5ib3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvLyDmiafooYzmiYDmnInnmoTor7fmsYLjgILor7fmsYLnu5PmnpzmjInor7fmsYLmrKHluo/mnoTmiJDmlbDnu4TvvIzlnKhjYWxsYmFja+eahOesrOS4gOS4quWPguaVsOS4rei/lOWbnlxyXG4gICAgICAgIHF1ZXJ5LmV4ZWMocmVzID0+IHtcclxuICAgICAgICAgICAgbGV0IHN3aXBlckhlaWdodCA9IHJlc1swXS5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGxldCBoZWFkSGVpZ2h0ID0gcmVzWzFdLmhlaWdodDtcclxuICAgICAgICAgICAgLy8gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKSDlj6/ku6XlvpfliLDorr7lpIfnmoTlkITnp43kv6Hmga/vvIzlhbPkuo7pq5jluqbnmoTlj4LmlbDmnInkuKTkuKrvvIzkuIDkuKrmmK/lsY/luZXpq5jluqYgc2NyZWVuSGVpZ2h077yM5LiA5Liq5piv5Y+v5L2/55So56qX5Y+j6auY5bqmIHdpbmRvd0hlaWdodOOAguazqOaEj+iuoeeul+eahOaXtuWAmeimgeeUqCB3aW5kb3dIZWlnaHTvvIzov5nmoLfnrpflh7rmnaXnmoTpq5jluqbmiY3mmK/lr7nnmoTjgIJzY3JlZW5IZWlnaHTmmK/miYvmnLrnmoTlsY/luZXpq5jluqbvvIzljIXlkKvkuobmiYvmnLrnmoTnirbmgIHmoI/lkozlsI/nqIvluo/moIfpopjmoI/jgIJcclxuICAgICAgICAgICAgbGV0IHdpbmRvd0hlaWdodCA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCkud2luZG93SGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyA1MOaYr3RhYumrmOW6plxyXG4gICAgICAgICAgICBsZXQgc2Nyb2xsSGVpZ2h0ID0gd2luZG93SGVpZ2h0IC0gc3dpcGVySGVpZ2h0IC0gaGVhZEhlaWdodCAtIDUwO1xyXG4gICAgICAgICAgICB0aGF0LnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0OiBzY3JvbGxIZWlnaHRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHRvQ2xvdWQoKXtcclxuICAgICAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgICAgICAgdXJsOicuLi9jbG91ZC9jbG91ZCdcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59KVxyXG4iXX0=